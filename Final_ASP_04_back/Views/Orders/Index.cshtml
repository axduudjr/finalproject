@model IEnumerable<Final_ASP_04_back.Models.ViewModels.OrderListVM>

@{
    ViewBag.Title = "維護訂單";
}

<h1>維護訂單</h1>
<form action="" method="get">
    <div class="container">
        <div class="row">
            <div class="col-md-3">
                <div class="form-floating">
                    @Html.DropDownList("BranchId", null, new { @class = "form-select form-select-sm me-3 mb-3", style = "width:100%;display:inline-block;" })
                    <label for="BranchName">分店名稱:</label>
                </div>
            </div>
            <div class="col-md-3">
                <div class="form-floating">
                    @Html.TextBox("memberName", null, new { @class = "form-control form-control-sm me-3 mb-3", style = "width:100%;display:inline-block" })
                    <label for="memberName">會員姓名:</label>
                </div>
            </div>
            <div class="col-md-3">
                <div class="form-floating">
                    <input class="form-control" name="startDateTime" type="date" id="startDateTime" placeholder="" value="">
                    <label for="endDateTime">入住日期:</label>
                </div>
            </div>
            <div class="col-md-3 mt-1">
                <input type="submit" value="查詢訂單" class="btn btn-sm" style="width: 100%; height: 50px;background-color: deepskyblue;color:white" />
            </div>
        </div>
    </div>


</form>



<table class="table table-striped table-bordered mt-2" style="border: 5px solid #B3D9D9; ">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.MemberName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.BranchName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.RoomTypeName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.RoomName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.StartDateTime)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.EndDateTime)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Status)
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.MemberName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.BranchName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.RoomTypeName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.RoomName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.StartDateTime)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.EndDateTime)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Status)
            </td>

            @{
                if (item.Status == "已入住" || item.Status == "已取消")
                {
                    <td></td>
                }
                else
                {
                    <td>@Html.ActionLink("編輯訂單狀態", "Edit", new { id = item.Id }, new { @class = "OrderEditbtn" })</td>
                }
            }


        </tr>
    }

</table>

@section css{
    <style>
        .OrderEditbtn {
            text-align: center;
            width: 100%;
            display: inline-block;
            font-size: 16px;
            background-color: deepskyblue;
            color: #ffffff;
            border: none;
            text-decoration: none;
            border-radius: 10px
        }

        h1 {
            text-align: center;
            color: #587D87;
        }
    </style>
}
