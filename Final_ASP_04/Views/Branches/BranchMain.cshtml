
@{
    ViewBag.Title = "BranchMain";
    var branchInfo = ViewBag.BranchInfo;
    var branchPic = ViewBag.BranchPic;
    var product = ViewBag.Product;
    var news = ViewBag.News;
    int brancId = ViewBag.BranchId;
}
<!--輪播照片 begin-->
<div class="container-fluid">
    <div class="row">
        <div class="col-12" style="padding-left: 0%; padding-right: 0%">
            <div id="carouselExampleIndicators" class="carousel slide">
                <div class="carousel-indicators">
                    <button type="button"
                            data-bs-target="#carouselExampleIndicators"
                            data-bs-slide-to="0"
                            class="active"
                            aria-current="true"
                            aria-label="Slide 1"></button>
                    <button type="button"
                            data-bs-target="#carouselExampleIndicators"
                            data-bs-slide-to="1"
                            aria-label="Slide 2"></button>
                    <button type="button"
                            data-bs-target="#carouselExampleIndicators"
                            data-bs-slide-to="2"
                            aria-label="Slide 3"></button>
                </div>
                <div class="carousel-inner">
                    @{
                        foreach (var pic in branchPic)
                        {
                            <div class="carousel-item branchPic" data-id="@pic.DisplayOrder">
                                <img src="~/images/@pic.FileName"
                                     class="d-block custom-img"
                                     alt="..." />
                            </div>
                        }
                    }
                </div>
                <button class="carousel-control-prev"
                        type="button"
                        data-bs-target="#carouselExampleIndicators"
                        data-bs-slide="prev">
                    <span class="carousel-control-prev-icon"
                          aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next"
                        type="button"
                        data-bs-target="#carouselExampleIndicators"
                        data-bs-slide="next">
                    <span class="carousel-control-next-icon"
                          aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        </div>
    </div>
</div>
<!--輪播照片 end-->
<!--最新消息 begin-->
<div class="container">
    <div class="row" style="align-items:center;">
        <div class="col-lg-10 col-8 d-flex">
            <h1 class="m-md-4 m-2">房型一覽</h1>
        </div>
        <div class="col-lg-2 col-4 d-flex text-center" style="justify-content:flex-end">
            <a href="/Branches/ListRoomTypes?selectedBranchId=@brancId" class="btn-98">Read More>></a>
        </div>
    </div>
    <div class="row">
        @{
            foreach (var p in product)
            {
                <div class="col-xl-4 col-lg-6 col-12 product" style="display:flex;justify-content:center">
                    <div class="card h-100" style="width: 23rem;">
                        <img src="~/images/@p.FileName" class="card-img-top" alt="...">
                        <div class="card-body">
                            <h5 class="card-title">@p.Name</h5>
                            <p class="card-text">@p.Description</p>
                        </div>
                    </div>
                </div>
            }
        }
    </div>
    <hr style="margin-top:50px">
</div>
<!--最新消息 end-->
<!--優惠資訊 begin-->
<div class="container mt-2">
    <div class="row">
        <div class="col">
            <h1 class="m-md-4 m-2">最新消息</h1>
        </div>
    </div>
    <div class="row">
        <div class="col-12">
            <div id="carouselExampleIndicators2" class="carousel slide">
                <div class="carousel-indicators">
                    <button type="button"
                            data-bs-target="#carouselExampleIndicators2"
                            data-bs-slide-to="0"
                            class="active"
                            aria-current="true"
                            aria-label="Slide 1"></button>
                    @{
                        for (var n = 2; n <= news.Count; n++)
                        {
                            <button type="button"
                                    data-bs-target="#carouselExampleIndicators2"
                                    data-bs-slide-to="@(n - 1)"
                                    aria-label="Slide @n"></button>
                        }
                    }
                </div>
                <div class="carousel-inner">
                    @{
                        foreach (var n in news)
                        {
                            <div class="carousel-item news">
                                <div class="d-flex align-items-center justify-content-center"
                                     style="
                                 width: 100%;
                                 height: 500px;
                                 background-color: cadetblue;
">
                                    <div class="row">
                                        <div class="col-12">
                                            <div class="text-center">
                                                <h2>@n.Title</h2>
                                                <h3 style="padding-left: 100px; padding-right: 100px;">@n.Description</h3>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        }
                    }
                </div>
                <button class="carousel-control-prev"
                        type="button"
                        data-bs-target="#carouselExampleIndicators2"
                        data-bs-slide="prev">
                    <span class="carousel-control-prev-icon"
                          aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next"
                        type="button"
                        data-bs-target="#carouselExampleIndicators2"
                        data-bs-slide="next">
                    <span class="carousel-control-next-icon"
                          aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        </div>
    </div>
    <hr style="margin-top:50px">
</div>
<!--優惠資訊 end-->
<!--地圖 begin-->
<div class="container">
    <div class="row mt-md-4 mt-2">
        <div class="col-6">
            @{
                <h2>@branchInfo.Name</h2>
                <p>
                    地址:@branchInfo.Address
                </p>
                <h2 class="mt-md-4">交通資訊</h2>
                foreach (var t in branchInfo.Traffics)
                {
                    <h5>@t.Title</h5>
                    <p>@t.Description</p>
                }
            }
        </div>
        <div class="col-6">
            <gmp-map center="25.042186737060547,121.50786590576172" zoom="14" map-id="DEMO_MAP_ID">
                <gmp-advanced-marker position="25.042186737060547,121.50786590576172" title="My location">
                </gmp-advanced-marker>
            </gmp-map>
        </div>
    </div>
</div>
<div class="container">
    <div class="row">
        <div class="col-12">
            <gmp-map center="25.042186737060547,121.50786590576172" zoom="14" map-id="DEMO_MAP_ID">
                <gmp-advanced-marker position="25.042186737060547,121.50786590576172" title="My location">
                </gmp-advanced-marker>
            </gmp-map>
        </div>
    </div>
</div>
<!--地圖 end-->

@section css{
    <style>
        @@media screen and (min-width:1200px) {
            .body-content {
                padding: 5px;
                margin: 0px;
                max-width: none
            }
        }

        .custom-img {
            width: 100%;
            object-fit: cover;
        }

        /* 992px以上 */
        @@media (min-width: 992px) {
            .custom-img {
                height: 700px;
            }
        }

        /* Always set the map height explicitly to define the size of the div
            * element that contains the map. */
        gmp-map {
            height: 100%;
        }

        body {
            display: flex;
            flex-direction: column;
            min-height: 100vh; /* 使内容至少占据整个视口高度 */
            margin: 0;
        }

        .container {
            flex: 1; /* 使内容部分占据剩余空间 */
            /* 添加其他样式 */
        }

        .btn-98,
        .btn-98 *,
        .btn-98 :after,
        .btn-98 :before,
        .btn-98:after,
        .btn-98:before {
            border: 0 solid;
            box-sizing: border-box;
        }

        .btn-98 {
            -webkit-tap-highlight-color: transparent;
            -webkit-appearance: button;
            background-color: #000;
            background-image: none;
            color: blue;
            cursor: pointer;
            font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, Noto Sans, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji;
            font-size: 100%;
            line-height: 1.5;
            margin: 0;
            -webkit-mask-image: -webkit-radial-gradient(blue, blue);
            padding: 0;
        }

            .btn-98:disabled {
                cursor: default;
            }

            .btn-98:-moz-focusring {
                outline: auto;
            }

            .btn-98 svg {
                display: block;
                vertical-align: middle;
            }

            .btn-98 [hidden] {
                display: none;
            }

        .btn-98 {
            --thickness: 4px;
            background: none;
            box-sizing: border-box;
            -webkit-clip-path: polygon( 0 0, 100% 0, 100% calc(100% + var(--thickness)), 0 calc(100% + var(--thickness)) );
            clip-path: polygon( 0 0, 100% 0, 100% calc(100% + var(--thickness)), 0 calc(100% + var(--thickness)) );
            display: block;
            font-weight: 900;
            -webkit-mask-image: none;
            padding: 2px 0;
            position: relative;
            text-transform: uppercase;
        }

            .btn-98:before {
                background: #fff;
                bottom: calc(var(--thickness) * -1);
                content: "";
                display: block;
                height: var(--thickness);
                left: 0;
                pointer-events: none;
                position: absolute;
                width: 100%;
            }

            .btn-98:hover:before {
                -webkit-animation: slide 0.5s ease;
                animation: slide 0.5s ease;
            }

        @@-webkit-keyframes slide {
            0% {
                transform: translateX(0);
            }

            50% {
                transform: translateX(100%);
            }

            51% {
                transform: translateX(-100%);
            }

            to {
                transform: translateX(0);
            }
        }

        @@keyframes slide {
            0% {
                transform: translateX(0);
            }

            50% {
                transform: translateX(100%);
            }

            51% {
                transform: translateX(-100%);
            }

            to {
                transform: translateX(0);
            }
        }
    </style>
}

@section scripts{
    <script async src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDx5F6X_iW4V24-uoSHGY7XEyruyBSXC2s&callback=console.debug&libraries=maps,marker&v=beta">
    </script>

    <script>
        $(document).ready(function () {
            $(".branchPic").first().addClass("active");
            $(".news").first().addClass("active");

            $(".product:nth-child(2)").addClass("d-none d-lg-block");
            $(".product:nth-child(3)").addClass("d-none d-xl-block");
        })

                // Branches / ListRoomTypes ? selectedBranchId = 1
    </script>
}
